{"version":3,"sources":["utils/pubsub.js"],"names":["events","topics","hOP","hasOwnProperty","subscribe","topic","listener","call","index","push","remove","publish","info","forEach","item","undefined"],"mappings":";;;;;AAAO,IAAMA,0BAAU,YAAY;AACjC,MAAIC,SAAS,EAAb;AACA,MAAIC,MAAMD,OAAOE,cAAjB;;AAEA,SAAO;AACLC,eAAW,mBAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AACpC;AACA,UAAI,CAACJ,IAAIK,IAAJ,CAASN,MAAT,EAAiBI,KAAjB,CAAL,EAA8BJ,OAAOI,KAAP,IAAgB,EAAhB;;AAE9B;AACA,UAAIG,QAAQP,OAAOI,KAAP,EAAcI,IAAd,CAAmBH,QAAnB,IAA+B,CAA3C;;AAEA;AACA,aAAO;AACLI,gBAAQ,kBAAY;AAClB,iBAAOT,OAAOI,KAAP,EAAcG,KAAd,CAAP;AACD;AAHI,OAAP;AAKD,KAdI;AAeLG,aAAS,iBAAUN,KAAV,EAAiBO,IAAjB,EAAuB;AAC9B;AACA,UAAI,CAACV,IAAIK,IAAJ,CAASN,MAAT,EAAiBI,KAAjB,CAAL,EAA8B;;AAE9B;AACAJ,aAAOI,KAAP,EAAcQ,OAAd,CAAsB,UAAUC,IAAV,EAAgB;AACpCA,aAAKF,QAAQG,SAAR,GAAoBH,IAApB,GAA2B,EAAhC;AACD,OAFD;AAGD;AAvBI,GAAP;AAyBD,CA7BqB,EAAf","file":"pubsub.js","sourcesContent":["export const events = (function () {\n  var topics = {};\n  var hOP = topics.hasOwnProperty;\n\n  return {\n    subscribe: function (topic, listener) {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) topics[topic] = [];\n\n      // Add the listener to queue\n      var index = topics[topic].push(listener) - 1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: function () {\n          delete topics[topic][index];\n        }\n      };\n    },\n    publish: function (topic, info) {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) return;\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach(function (item) {\n        item(info != undefined ? info : {});\n      });\n    }\n  };\n})();"]}